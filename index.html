<a-scene
  mindar-image="imageTargetSrc: ./targets.mind?v=2;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: false"
  renderer="alpha: true; antialias: true"
>
  <a-assets>
    <video
      id="overlayVideo"
      src="./assets/overlay.webm"
      preload="auto"
      loop
      muted
      playsinline
      webkit-playsinline
      crossorigin="anonymous"
    ></video>
  </a-assets>

  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

  <a-entity mindar-image-target="targetIndex: 0">
    <a-plane
      src="#overlayVideo"
      material="shader: flat; transparent: true; alphaTest: 0.01; side: double"
      position="0 0 0"
      width="0.56"
      height="1.0"
      rotation="0 0 0"
    ></a-plane>
  </a-entity>
</a-scene>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const video = document.querySelector("#overlayVideo");
    const target = document.querySelector("a-entity[mindar-image-target]");

    // User-Geste: Ton freischalten (wenn du Ã¼berhaupt Ton brauchst)
    document.addEventListener("click", () => {
      video.muted = false;
      video.play().catch(() => {});
    }, { once: true });

    target.addEventListener("targetFound", () => {
      video.play().catch(() => {});
    });

    target.addEventListener("targetLost", () => {
      video.pause();
    });
  });
</script>